# Korea Finder

## **1. 개요**

### **1.1 목적**

본 문서는 한국 맛집 찾기 웹 애플리케이션의 소프트웨어 요구사항을 정의하고 명세하기 위해 작성되었습니다. 이 시스템은 사용자가 한국 내 맛집을 검색하고, 위치를 확인하며, 리뷰를 작성할 수 있는 종합적인 플랫폼을 제공합니다.

### **1.2 범위**

- **제품명**: 한국 맛집 찾기 (Korea Store Finder)
- **대상 사용자**: 한국 내 맛집을 찾고자 하는 일반 사용자, 맛집 정보를 관리하는 관리자
- **주요 기능**: 맛집 검색, 지도 기반 위치 표시, 리뷰 시스템, 관리자 기능

### **1.3 정의 및 약어**

- **UI**: User Interface (사용자 인터페이스)
- **API**: Application Programming Interface
- **RLS**: Row Level Security (행 수준 보안)
- **PWA**: Progressive Web Application

## **2. 전체 시스템 설명**

### **2.1 제품 관점**

한국 맛집 찾기는 웹 기반 애플리케이션으로, 다음과 같은 외부 시스템과 연동됩니다:

- **Kakao Maps API**: 지도 표시 및 위치 서비스
- **Supabase**: 백엔드 데이터베이스 및 실시간 기능
- **Netlify**: 호스팅 및 배포 플랫폼

### **2.2 제품 기능**

1. **맛집 정보 관리**
    - 맛집 추가, 수정, 삭제
    - 카테고리별 분류
    - 주소 및 위치 정보 관리
2. **지도 기반 서비스**
    - 카카오맵 연동
    - 실시간 위치 표시
    - 거리 계산 및 정렬
3. **리뷰 시스템**
    - 별점 평가 (1-5점)
    - 텍스트 리뷰 작성
    - 실시간 리뷰 업데이트
4. **검색 및 필터링**
    - 키워드 검색
    - 카테고리별 필터링
    - 거리순 정렬
5. **관리자 기능**
    - 맛집 및 리뷰 관리
    - 통계 및 모니터링

### **2.3 사용자 특성**

- **일반 사용자**: 맛집 정보를 검색하고 리뷰를 작성하는 사용자
- **관리자**: 시스템 전반을 관리하고 부적절한 콘텐츠를 제거하는 사용자

### **2.4 제약사항**

- 웹 브라우저 환경에서만 동작
- 인터넷 연결 필수
- 위치 서비스 권한 필요 (선택적)
- 카카오맵 API 사용량 제한

## **3. 시스템 요구사항**

### **3.1 기능적 요구사항**

### **3.1.1 맛집 관리 기능**

- **FR-001**: 사용자는 새로운 맛집을 추가할 수 있어야 한다.
    - 입력 항목: 상점명, 주소, 카테고리, 카카오맵 URL
    - 폼 입력 또는 JSON 형식 입력 지원
    - 카카오맵 URL 입력 시 자동 정보 추출
- **FR-002**: 시스템은 맛집 목록을 표시해야 한다.
    - 페이지네이션 지원 (페이지당 4개 항목)
    - 카테고리별 필터링
    - 키워드 검색 기능
- **FR-003**: 관리자는 맛집 정보를 수정/삭제할 수 있어야 한다.
    - 관리자 인증 필요
    - 맛집 삭제 시 관련 리뷰 자동 삭제

### **3.1.2 지도 기능**

- **FR-004**: 시스템은 카카오맵을 통해 맛집 위치를 표시해야 한다.
    - 맛집별 마커 표시
    - 마커 클릭 시 상세 정보 표시
- **FR-005**: 사용자의 현재 위치를 표시할 수 있어야 한다.
    - GPS 기반 위치 확인
    - 위치 권한 요청
    - 위치 기반 거리 계산
- **FR-006**: 맛집까지의 거리를 계산하고 표시해야 한다.
    - Haversine 공식 사용
    - km/m 단위 표시
    - 거리순 정렬 기능

### **3.1.3 리뷰 시스템**

- **FR-007**: 사용자는 맛집에 대한 리뷰를 작성할 수 있어야 한다.
    - 별점 평가 (1-5점)
    - 텍스트 리뷰
    - 작성자명 입력
- **FR-008**: 시스템은 리뷰 목록을 표시해야 한다.
    - 최신순 정렬
    - 무한 스크롤 또는 페이지네이션
    - 평균 별점 계산
- **FR-009**: 관리자는 부적절한 리뷰를 삭제할 수 있어야 한다.
    - 관리자 권한 확인
    - 삭제 확인 다이얼로그

### **3.1.4 검색 및 필터링**

- **FR-010**: 사용자는 맛집을 검색할 수 있어야 한다.
    - 상점명, 주소, 카테고리 기반 검색
    - 실시간 검색 결과 업데이트
- **FR-011**: 사용자는 카테고리별로 맛집을 필터링할 수 있어야 한다.
    - 동적 카테고리 목록 생성
    - 다중 필터 적용 가능

### **3.1.5 관리자 기능**

- **FR-012**: 관리자는 인증을 통해 관리 페이지에 접근할 수 있어야 한다.
    - 비밀번호 기반 인증
    - 세션 관리
- **FR-013**: 관리자는 모든 맛집과 리뷰를 관리할 수 있어야 한다.
    - 맛집별 리뷰 목록 표시
    - 일괄 삭제 기능
    - 통계 정보 제공

### **3.2 비기능적 요구사항**

### **3.2.1 성능 요구사항**

- **NFR-001**: 페이지 로딩 시간은 3초 이내여야 한다.
- **NFR-002**: 지도 렌더링은 2초 이내에 완료되어야 한다.
- **NFR-003**: 검색 결과는 1초 이내에 표시되어야 한다.
- **NFR-004**: 동시 사용자 100명까지 지원해야 한다.

### **3.2.2 사용성 요구사항**

- **NFR-005**: 모바일 디바이스에서 터치 친화적인 인터페이스를 제공해야 한다.
- **NFR-006**: 다크 모드를 지원해야 한다.
- **NFR-007**: 접근성 가이드라인(WCAG 2.1 AA)을 준수해야 한다.
- **NFR-008**: 직관적인 사용자 인터페이스를 제공해야 한다.

### **3.2.3 신뢰성 요구사항**

- **NFR-009**: 시스템 가용성은 99.5% 이상이어야 한다.
- **NFR-010**: 데이터 손실 없이 장애 복구가 가능해야 한다.
- **NFR-011**: 실시간 데이터 동기화가 보장되어야 한다.

### **3.2.4 보안 요구사항**

- **NFR-012**: 모든 데이터 전송은 HTTPS를 통해 암호화되어야 한다.
- **NFR-013**: SQL 인젝션 공격을 방어해야 한다.
- **NFR-014**: 관리자 기능은 적절한 인증을 거쳐야 한다.
- **NFR-015**: 사용자 입력 데이터는 검증되어야 한다.

### **3.2.5 호환성 요구사항**

- **NFR-016**: 주요 웹 브라우저(Chrome, Firefox, Safari, Edge)를 지원해야 한다.
- **NFR-017**: 모바일 브라우저에서 정상 동작해야 한다.
- **NFR-018**: 반응형 디자인을 지원해야 한다.

## **4. 시스템 아키텍처**

### **4.1 기술 스택**

- **Frontend**: React 18, TypeScript, Tailwind CSS
- **Backend**: Supabase (PostgreSQL, Real-time subscriptions)
- **Maps**: Kakao Maps API
- **Hosting**: Netlify
- **Build Tool**: Vite

### **4.2 데이터베이스 설계**

### **4.2.1 stores 테이블**

`CREATE TABLE stores (  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),  name text NOT NULL,  address text NOT NULL,  category text NOT NULL,  kakao_map_url text NOT NULL,  created_at timestamptz DEFAULT now(),  updated_at timestamptz DEFAULT now());`

### **4.2.2 reviews 테이블**

`CREATE TABLE reviews (  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),  store_id uuid NOT NULL REFERENCES stores(id) ON DELETE CASCADE,  rating integer NOT NULL CHECK (rating >= 1 AND rating <= 5),  content text NOT NULL,  user_name text NOT NULL,  created_at timestamptz DEFAULT now());`

### **4.3 API 설계**

### **4.3.1 Supabase API 엔드포인트**

- `GET /stores`: 맛집 목록 조회
- `POST /stores`: 새 맛집 추가
- `PUT /stores/:id`: 맛집 정보 수정
- `DELETE /stores/:id`: 맛집 삭제
- `GET /reviews`: 리뷰 목록 조회
- `POST /reviews`: 새 리뷰 추가
- `DELETE /reviews/:id`: 리뷰 삭제

### **4.3.2 Kakao Maps API**

- 지도 표시: `kakao.maps.Map`
- 주소 검색: `kakao.maps.services.Geocoder`
- 장소 검색: `kakao.maps.services.Places`

## **5. 사용자 인터페이스 요구사항**

### **5.1 메인 페이지**

- **헤더**: 앱 제목, 위치 버튼, 맛집 추가 버튼, 다크모드 토글
- **사이드바**: 맛집 목록, 검색/필터 기능, 페이지네이션
- **메인 영역**: 카카오맵 표시
- **푸터**: 저작권 정보, 관리자 페이지 링크

### **5.2 맛집 상세 모달**

- **헤더**: 맛집명, 카테고리, 평균 별점
- **지도 영역**: 전체화면 모드에서 맛집 위치 표시
- **액션 버튼**: 카카오맵에서 보기, 리뷰 작성
- **리뷰 목록**: 무한 스크롤, 별점 및 텍스트 표시

### **5.3 리뷰 작성 모달**

- **사용자 정보**: 이름 입력
- **별점 선택**: 1-5점 터치 인터페이스
- **리뷰 내용**: 텍스트 에리어
- **액션 버튼**: 취소, 완료

### **5.4 맛집 추가 모달**

- **입력 방식 선택**: 폼 입력 / JSON 입력
- **장소 검색**: 카카오 API 연동
- **폼 필드**: 상점명, 주소, 카테고리, 카카오맵 URL
- **위치 기반 검색**: 현재 위치 기준 검색 옵션

### **5.5 관리자 페이지**

- **인증 화면**: 비밀번호 입력
- **관리 대시보드**: 맛집별 리뷰 목록, 삭제 기능
- **확장/축소**: 맛집별 상세 정보 토글

## **6. 품질 보증**

### **6.1 테스트 요구사항**

- **단위 테스트**: 핵심 비즈니스 로직 테스트
- **통합 테스트**: API 연동 테스트
- **E2E 테스트**: 사용자 시나리오 테스트
- **성능 테스트**: 로딩 시간 및 응답 시간 측정
- **보안 테스트**: 취약점 스캔 및 침투 테스트

### **6.2 코드 품질**

- **ESLint**: 코드 스타일 및 품질 검사
- **TypeScript**: 타입 안정성 보장
- **코드 리뷰**: 모든 변경사항에 대한 리뷰
- **문서화**: 주요 함수 및 컴포넌트 문서화

## **7. 배포 및 운영**

### **7.1 배포 환경**

- **개발 환경**: 로컬 개발 서버
- **스테이징 환경**: Netlify Preview 배포
- **프로덕션 환경**: Netlify 메인 도메인

### **7.2 모니터링**

- **성능 모니터링**: Core Web Vitals 측정
- **에러 추적**: 런타임 에러 로깅
- **사용자 분석**: 페이지 뷰 및 사용자 행동 분석

### **7.3 백업 및 복구**

- **데이터베이스 백업**: 일일 자동 백업
- **코드 백업**: Git 저장소 관리
- **복구 절차**: 장애 시 복구 매뉴얼

## **8. 향후 개선사항**

### **8.1 단기 개선사항 (3개월)**

- 사용자 계정 시스템 도입
- 즐겨찾기 기능
- 리뷰 좋아요/싫어요 기능
- 푸시 알림 (PWA)

### **8.2 중기 개선사항 (6개월)**

- 소셜 로그인 연동
- 맛집 추천 알고리즘
- 사진 업로드 기능
- 오프라인 지원

### **8.3 장기 개선사항 (1년)**

- 모바일 앱 개발
- AI 기반 맛집 추천
- 다국어 지원
- 결제 시스템 연동

## **9. 부록**

### **9.1 용어집**

- **맛집**: 사용자가 추천하는 음식점
- **리뷰**: 맛집에 대한 사용자 평가 및 의견
- **카테고리**: 맛집의 음식 종류 분류
- **실시간 동기화**: 데이터 변경 시 즉시 모든 클라이언트에 반영

### **9.2 참조 문서**

- Kakao Maps API 문서
- Supabase 문서
- React 공식 문서
- Tailwind CSS 문서
